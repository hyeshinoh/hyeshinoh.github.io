<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
<title>python 14. NumPy의 연산 - 우와팬더의 블로그</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css">




<meta name="description" content="데이터사이언스를 공부합니다">



<meta name="keywords" content="data science">



    <meta name="description" content="jupyter notebook으로 보기 NumPy를 이용해 배열의 연산을 하는 기본적인 방법에 대해 알아보자. 면면이 파고들어가면 공부할 내용이 많은 부분이지만 여기서는 우선 기초적인 내용만을 다뤄보자!  다룰 내용 Basic calculate Broadcasting Functions Performance 비교">
<meta name="keywords" content="python,파이썬,programming,numpy">
<meta property="og:type" content="article">
<meta property="og:title" content="python 14. NumPy의 연산">
<meta property="og:url" content="https://hyeshinoh.github.io/2019/03/26/python_14_NumPy_calculate/index.html">
<meta property="og:site_name" content="우와팬더의 블로그">
<meta property="og:description" content="jupyter notebook으로 보기 NumPy를 이용해 배열의 연산을 하는 기본적인 방법에 대해 알아보자. 면면이 파고들어가면 공부할 내용이 많은 부분이지만 여기서는 우선 기초적인 내용만을 다뤄보자!  다룰 내용 Basic calculate Broadcasting Functions Performance 비교">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2019-07-29T15:01:29.868Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="python 14. NumPy의 연산">
<meta name="twitter:description" content="jupyter notebook으로 보기 NumPy를 이용해 배열의 연산을 하는 기본적인 방법에 대해 알아보자. 면면이 파고들어가면 공부할 내용이 많은 부분이지만 여기서는 우선 기초적인 내용만을 다뤄보자!  다룰 내용 Basic calculate Broadcasting Functions Performance 비교">





<link rel="icon" href="/favicon.png">


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/css/justifiedGallery.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">

<link rel="stylesheet" href="/css/style.css">

<script defer src="//use.fontawesome.com/releases/v5.0.8/js/all.js"></script>


    
    
    
    
    
    
    
    
    
    
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-126954393-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-126954393-1');
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->


    


</head>
<body>
    
<!-- hexo-inject:begin --><!-- hexo-inject:end --><nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/">
                
                <img src="/images/logo.png" alt="" height="28">
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-start">
            
            <a class="navbar-item "
               href="/archives">Archives</a>
            
            <a class="navbar-item "
               href="/categories/">Categories</a>
            
            <a class="navbar-item "
               href="/about">About</a>
            
        </div>
        
        <div class="navbar-menu navbar-end">
            
            <a class="navbar-item search" title="Search" href="javascript:;">
                <i class="fas fa-search"></i>
            </a>
            
            
            <div class="navbar-item is-hoverable has-dropdown is-hidden-mobile is-hidden-tablet-only toc">
                <a class="navbar-item" title="Table of Contents">
                    <i class="fa fa-list"></i>
                </a>
                <div class="navbar-dropdown is-right">
                    
                    
                    
                    
                    <a class="navbar-item" href="#다룰-내용">1.1.1&nbsp;&nbsp;다룰 내용</a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#1-Basic-calculation">2&nbsp;&nbsp;<b>1. Basic calculation</b></a>
                    
                    
                    
                    <a class="navbar-item" href="#1-1-사칙연산">2.1&nbsp;&nbsp;1.1 사칙연산</a>
                    
                    
                    
                    <a class="navbar-item" href="#1-2-비교연산">2.2&nbsp;&nbsp;1.2 비교연산</a>
                    
                    
                    
                    <a class="navbar-item" href="#1-array-내의-원소-비교연산">2.2.1&nbsp;&nbsp;(1) array 내의 원소 비교연산</a>
                    
                    
                    
                    <a class="navbar-item" href="#2-all-전체리스트-비교하기-원소별이-아니라-array-전체의-비교-연산">2.2.2&nbsp;&nbsp;(2) all: 전체리스트 비교하기 (원소별이 아니라 array 전체의 비교 연산)</a>
                    
                    
                    
                    <a class="navbar-item" href="#1-3-필터링">2.3&nbsp;&nbsp;1.3 필터링</a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#2-Broadcasting">3&nbsp;&nbsp;<b>2. Broadcasting</b></a>
                    
                    
                    
                    <a class="navbar-item" href="#2-1-vector-matrix와-scalar의-사칙연산">3.1&nbsp;&nbsp;2.1 vector/matrix와 scalar의 사칙연산</a>
                    
                    
                    
                    <a class="navbar-item" href="#2-2-matrix와-vector의-사칙연산">3.2&nbsp;&nbsp;2.2 matrix와 vector의 사칙연산</a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#3-Function">4&nbsp;&nbsp;<b>3. Function</b></a>
                    
                    
                    
                    <a class="navbar-item" href="#3-1-min-max-argmin-argmax">4.1&nbsp;&nbsp;3.1 min, max, argmin, argmax</a>
                    
                    
                    
                    <a class="navbar-item" href="#3-2-sum-mean-median-std-var">4.2&nbsp;&nbsp;3.2 sum, mean, median, std, var</a>
                    
                    
                    
                    <a class="navbar-item" href="#1-sum">4.2.1&nbsp;&nbsp;(1) sum</a>
                    
                    
                    
                    <a class="navbar-item" href="#2-mean-median">4.2.2&nbsp;&nbsp;(2) mean, median</a>
                    
                    
                    
                    <a class="navbar-item" href="#3-3-all-any">4.3&nbsp;&nbsp;3.3 all, any</a>
                    
                    
                    
                    <a class="navbar-item" href="#3-4-분위수">4.4&nbsp;&nbsp;3.4 분위수</a>
                    
                    
                    
                    <a class="navbar-item" href="#3-5-지수함수와-로그함수">4.5&nbsp;&nbsp;3.5 지수함수와 로그함수</a>
                    
                    
                    
                    <a class="navbar-item" href="#1-지수함수-exponential-function-scale-up">4.5.1&nbsp;&nbsp;(1) 지수함수(exponential function) - scale up</a>
                    
                    
                    
                    <a class="navbar-item" href="#2-로그함수-log-function-scale-down">4.5.2&nbsp;&nbsp;(2) 로그함수(log function) - scale down</a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#4-Performance-비교">5&nbsp;&nbsp;<b>4. Performance 비교</b></a>
                    
                    
                    
                    <a class="navbar-item" href="#참고자료">5.1.1&nbsp;&nbsp;참고자료</a>
                    
                </div>
            </div>
            
            
            <a class="navbar-item" title="GitHub" href="https://github.com/hyeshinoh">
                
                <i class="fab fa-github"></i>
                
            </a>
               
            
        </div>
    </div>
</nav>

    <section class="section">
    <div class="container">
    <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            python 14. NumPy의 연산
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2019-03-26T14:35:53.000Z" itemprop="datePublished">Mar 26 2019</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/2-Data-Science-공부/">2. Data Science 공부</a><span>></span><a class="article-category-link" href="/categories/2-Data-Science-공부/3-파이썬-Python/">3) 파이썬 Python</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            9 minutes read (About 1294 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <p><a href="https://nbviewer.jupyter.org/github/hyeshinoh/Study_Python/blob/master/python_23_NumPy_calculate.ipynb" target="_blank" rel="noopener">jupyter notebook으로 보기</a></p>
<p>NumPy를 이용해 배열의 연산을 하는 기본적인 방법에 대해 알아보자. 면면이 파고들어가면 공부할 내용이 많은 부분이지만 여기서는 우선 기초적인 내용만을 다뤄보자! </p>
<h4 id="다룰-내용"><a href="#다룰-내용" class="headerlink" title="다룰 내용"></a>다룰 내용</h4><ol>
<li>Basic calculate</li>
<li>Broadcasting</li>
<li>Functions</li>
<li>Performance 비교</li>
</ol>
<a id="more"></a> 
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure>
<h2 id="1-Basic-calculation"><a href="#1-Basic-calculation" class="headerlink" title="1. Basic calculation"></a><strong>1. Basic calculation</strong></h2><h3 id="1-1-사칙연산"><a href="#1-1-사칙연산" class="headerlink" title="1.1 사칙연산"></a>1.1 사칙연산</h3><hr>
<p>먼저 간단하게 list와 numpy에서 계산이 어떻게 다른지 비교해보자. <br><br>list 자료형에서는 더하기(<code>+</code>)는 2개의 리스트를 합치는 기능을 하고, 곱하기(<code>*</code>)를 사용하면 곱한 수만큼 element를 반복해서 연결한 list를 만들어낸다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ls = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">print(ls + ls)</span><br><span class="line">print(ls * <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<pre><code>[1, 2, 3, 1, 2, 3]
[1, 2, 3, 1, 2, 3, 1, 2, 3]
</code></pre><p>반면, NumPy에서 <code>*</code>, <code>+</code>, <code>-</code> 등 연산자는 ndarray에 있는 magic method로, list와는 달리 각 element에 해당 계산을 해준다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">na1 = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">na1 * <span class="number">3</span></span><br></pre></td></tr></table></figure>
<pre><code>array([3, 6, 9])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">na1 - <span class="number">1</span></span><br></pre></td></tr></table></figure>
<pre><code>array([0, 1, 2])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">na2 = np.array([<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>])</span><br><span class="line">na1 + na2</span><br></pre></td></tr></table></figure>
<pre><code>array([5, 7, 9])
</code></pre><p>NumPy에서 vector나 matrix간에 사칙연산을 하면, 같은 위치의 원소끼리 계산이 이뤄진다. 이렇게 되려면 당연하게도 계산하려는 vector나 matrix가 형태가 같아야 한다. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">na3 = np.arange(<span class="number">6</span>).reshape(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">na4 = np.arange(<span class="number">6</span>, <span class="number">12</span>).reshape(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">print(<span class="string">"array3 : \n&#123;&#125;"</span>.format(na3))</span><br><span class="line">print(<span class="string">"array3 : \n&#123;&#125;"</span>.format(na4)) </span><br><span class="line">print(<span class="string">"multiplied : \n&#123;&#125;"</span>.format(na3*na4))</span><br></pre></td></tr></table></figure>
<pre><code>array3 : 
[[0 1 2]
 [3 4 5]]
array3 : 
[[ 6  7  8]
 [ 9 10 11]]
multiplied : 
[[ 0  7 16]
 [27 40 55]]
</code></pre><h3 id="1-2-비교연산"><a href="#1-2-비교연산" class="headerlink" title="1.2 비교연산"></a>1.2 비교연산</h3><p>NumPy에서는 다음과 같이 비교연산이 가능하다.</p>
<h4 id="1-array-내의-원소-비교연산"><a href="#1-array-내의-원소-비교연산" class="headerlink" title="(1) array 내의 원소 비교연산"></a>(1) array 내의 원소 비교연산</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"na1:"</span>, na1)</span><br><span class="line">print(<span class="string">"na2:"</span>, na2)</span><br><span class="line"></span><br><span class="line">print(na1 == <span class="number">2</span>)</span><br><span class="line">print(na2 &gt; <span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<pre><code>na1: [1 2 3 4 5]
na2: [1 3 3 4 4]
[False  True False False False]
[False False False False False]
</code></pre><h4 id="2-all-전체리스트-비교하기-원소별이-아니라-array-전체의-비교-연산"><a href="#2-all-전체리스트-비교하기-원소별이-아니라-array-전체의-비교-연산" class="headerlink" title="(2) all: 전체리스트 비교하기 (원소별이 아니라 array 전체의 비교 연산)"></a>(2) <code>all</code>: 전체리스트 비교하기 (원소별이 아니라 array 전체의 비교 연산)</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">na1 = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line">na2 = np.array([<span class="number">1</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>])</span><br><span class="line">na3 = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line"></span><br><span class="line">print(np.all(na1 == na2))</span><br><span class="line">print(np.all(na1 == na3))</span><br></pre></td></tr></table></figure>
<pre><code>False
True
</code></pre><h3 id="1-3-필터링"><a href="#1-3-필터링" class="headerlink" title="1.3 필터링"></a>1.3 필터링</h3><p>비교연산 등을 통한 True / False 리스트를 offset으로 넣어주면 True인 데이터만 필터링할 수 있다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"na1:"</span>, na1)</span><br><span class="line">print(<span class="string">"na2:"</span>, na2)</span><br><span class="line"></span><br><span class="line">print(na1[na1 == <span class="number">2</span>])</span><br><span class="line">print(na2[na2 &gt; <span class="number">4</span>])</span><br></pre></td></tr></table></figure>
<pre><code>na1: [1 2 3 4 5]
na2: [1 3 3 4 4]
[2]
[]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 3의 배수만 출력하기</span></span><br><span class="line">na3 = np.arange(<span class="number">10</span>)</span><br><span class="line">print(na3)</span><br><span class="line">print(na3[na3 % <span class="number">3</span> == <span class="number">0</span>])</span><br></pre></td></tr></table></figure>
<pre><code>[0 1 2 3 4 5 6 7 8 9]
[0 3 6 9]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 두 array를 위치별로 비교하여 필터링</span></span><br><span class="line">ls1 = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line">ls2 = np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">5</span>])</span><br><span class="line">ls1[ls1 == ls2]</span><br></pre></td></tr></table></figure>
<pre><code>array([3, 5])
</code></pre><h2 id="2-Broadcasting"><a href="#2-Broadcasting" class="headerlink" title="2. Broadcasting"></a><strong>2. Broadcasting</strong></h2><h3 id="2-1-vector-matrix와-scalar의-사칙연산"><a href="#2-1-vector-matrix와-scalar의-사칙연산" class="headerlink" title="2.1 vector/matrix와 scalar의 사칙연산"></a>2.1 vector/matrix와 scalar의 사칙연산</h3><p>vector/matrix의 각 element에 해당 연산을 수행한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">na = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">na * <span class="number">2</span></span><br></pre></td></tr></table></figure>
<pre><code>array([2, 4, 6])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">na = np.array(range(<span class="number">12</span>)).reshape(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">print(<span class="string">"na: \n&#123;&#125; \n"</span>.format(na))</span><br><span class="line">print(<span class="string">"na에 + 1을 하면: \n&#123;&#125;"</span>.format(na + <span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<pre><code>na: 
[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]] 

na에 + 1을 하면: 
[[ 1  2  3  4]
 [ 5  6  7  8]
 [ 9 10 11 12]]
</code></pre><h3 id="2-2-matrix와-vector의-사칙연산"><a href="#2-2-matrix와-vector의-사칙연산" class="headerlink" title="2.2 matrix와 vector의 사칙연산"></a>2.2 matrix와 vector의 사칙연산</h3><p>행/열 vector를 matrix의 각 행/열에 연산한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">na1 = np.array(range(<span class="number">4</span>))</span><br><span class="line">print(<span class="string">"na: \n&#123;&#125;\n"</span>.format(na))</span><br><span class="line">print(<span class="string">"na1: \n&#123;&#125;\n"</span>.format(na1))</span><br><span class="line">print(<span class="string">"na + na1: \n&#123;&#125;"</span>.format(na + na1))</span><br></pre></td></tr></table></figure>
<pre><code>na: 
[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]]

na1: 
[0 1 2 3]

na + na1: 
[[ 0  2  4  6]
 [ 4  6  8 10]
 [ 8 10 12 14]]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">na2 = np.array(range(<span class="number">3</span>))[:, np.newaxis]  <span class="comment"># `np.newaxis` 행/렬을 바꿔줌</span></span><br><span class="line">print(<span class="string">"na: \n&#123;&#125;\n"</span>.format(na))</span><br><span class="line">print(<span class="string">"na2: \n&#123;&#125;\n"</span>.format(na2))</span><br><span class="line">print(<span class="string">"na + na2: \n&#123;&#125;"</span>.format(na + na2))</span><br></pre></td></tr></table></figure>
<pre><code>na: 
[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]]

na2: 
[[0]
 [1]
 [2]]

na + na2: 
[[ 0  1  2  3]
 [ 5  6  7  8]
 [10 11 12 13]]
</code></pre><h2 id="3-Function"><a href="#3-Function" class="headerlink" title="3. Function"></a><strong>3. Function</strong></h2><h3 id="3-1-min-max-argmin-argmax"><a href="#3-1-min-max-argmin-argmax" class="headerlink" title="3.1 min, max, argmin, argmax"></a>3.1 min, max, argmin, argmax</h3><ul>
<li>min, max: 최소값, 최대값</li>
<li>argmin, argmax: 최소값, 최대값의 위치 index</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">na = np.random.randint(<span class="number">10</span>, size=(<span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line">na</span><br></pre></td></tr></table></figure>
<pre><code>array([[2, 1, 3],
       [6, 0, 7]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"최소값, 최대값: &#123;&#125;, &#123;&#125;"</span>.format(na.min(), na.max()))</span><br></pre></td></tr></table></figure>
<pre><code>최소값, 최대값: 0, 7
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"최소값 index, 최대값 index: &#123;&#125;, &#123;&#125;"</span>.format(na.argmin(), na.argmax()))</span><br></pre></td></tr></table></figure>
<pre><code>최소값 index, 최대값 index: 4, 5
</code></pre><h3 id="3-2-sum-mean-median-std-var"><a href="#3-2-sum-mean-median-std-var" class="headerlink" title="3.2 sum, mean, median, std, var"></a>3.2 sum, mean, median, std, var</h3><h4 id="1-sum"><a href="#1-sum" class="headerlink" title="(1) sum"></a>(1) sum</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">na</span><br></pre></td></tr></table></figure>
<pre><code>array([[2, 1, 3],
       [6, 0, 7]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(np.sum(na))          <span class="comment"># 모든 요소의 값을 더함</span></span><br><span class="line">print(np.sum(na, axis=<span class="number">0</span>))  <span class="comment"># 컬럼끼리 더해짐 (0번째 축인 행 방향으로 더함)</span></span><br><span class="line">print(np.sum(na, axis=<span class="number">1</span>))  <span class="comment"># 로우끼리 더해짐 (1번째 축인 열 방향으로 더함)</span></span><br></pre></td></tr></table></figure>
<pre><code>19
[ 8  1 10]
[ 6 13]
</code></pre><h4 id="2-mean-median"><a href="#2-mean-median" class="headerlink" title="(2) mean, median"></a>(2) mean, median</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(np.mean(na))</span><br><span class="line">print(np.median(na))</span><br></pre></td></tr></table></figure>
<pre><code>3.1666666666666665
2.5
</code></pre><h3 id="3-3-all-any"><a href="#3-3-all-any" class="headerlink" title="3.3 all, any"></a>3.3 all, any</h3><ul>
<li>단순 비교연산: array의 각 요소끼리(같은 위치) 비교함</li>
<li><code>all</code>: 하나라도 false이면 false (and 와 유사)  (값만 비교함, not 주소값)</li>
<li><code>any</code>: 하나라도 true이면 true (or 와 유사)</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">na1 = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">na2 = na1</span><br><span class="line">na3 = np.array([<span class="number">1</span>, <span class="number">0</span>, <span class="number">3</span>])</span><br><span class="line">print(<span class="string">"na1: &#123;&#125;"</span>.format(na1))</span><br><span class="line">print(<span class="string">"na2: &#123;&#125;"</span>.format(na2))</span><br><span class="line">print(<span class="string">"na3: &#123;&#125;"</span>.format(na3))</span><br></pre></td></tr></table></figure>
<pre><code>na1: [1 2 3]
na2: [1 2 3]
na3: [1 0 3]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 단순 비교연산</span></span><br><span class="line">print(na1 == na2)</span><br><span class="line">print(na2 == na3)</span><br></pre></td></tr></table></figure>
<pre><code>[ True  True  True]
[ True False  True]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># all</span></span><br><span class="line">print(np.all(na1 == na2))</span><br><span class="line">print(np.all(na1 == na3))</span><br></pre></td></tr></table></figure>
<pre><code>True
False
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># any</span></span><br><span class="line">print(np.any(na == na2))</span><br><span class="line">print(np.any(na == na3))</span><br></pre></td></tr></table></figure>
<pre><code>False
False
</code></pre><h3 id="3-4-분위수"><a href="#3-4-분위수" class="headerlink" title="3.4 분위수"></a>3.4 분위수</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 100등분을 해야하기 때문에 1이 아니라 0부터 시작되어야 함</span></span><br><span class="line">na = np.arange(<span class="number">0</span>, <span class="number">101</span>)     </span><br><span class="line">na</span><br></pre></td></tr></table></figure>
<pre><code>array([  0,   1,   2,   3,   4,   5,   6,   7,   8,   9,  10,  11,  12,
        13,  14,  15,  16,  17,  18,  19,  20,  21,  22,  23,  24,  25,
        26,  27,  28,  29,  30,  31,  32,  33,  34,  35,  36,  37,  38,
        39,  40,  41,  42,  43,  44,  45,  46,  47,  48,  49,  50,  51,
        52,  53,  54,  55,  56,  57,  58,  59,  60,  61,  62,  63,  64,
        65,  66,  67,  68,  69,  70,  71,  72,  73,  74,  75,  76,  77,
        78,  79,  80,  81,  82,  83,  84,  85,  86,  87,  88,  89,  90,
        91,  92,  93,  94,  95,  96,  97,  98,  99, 100])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.percentile(na, <span class="number">25</span>)    <span class="comment"># 4분위수</span></span><br></pre></td></tr></table></figure>
<pre><code>25.0
</code></pre><h3 id="3-5-지수함수와-로그함수"><a href="#3-5-지수함수와-로그함수" class="headerlink" title="3.5 지수함수와 로그함수"></a>3.5 지수함수와 로그함수</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">na = np.arange(<span class="number">1</span>, <span class="number">6</span>)</span><br><span class="line">na</span><br></pre></td></tr></table></figure>
<pre><code>array([1, 2, 3, 4, 5])
</code></pre><h4 id="1-지수함수-exponential-function-scale-up"><a href="#1-지수함수-exponential-function-scale-up" class="headerlink" title="(1) 지수함수(exponential function) - scale up"></a>(1) 지수함수(exponential function) - scale up</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 밑이 e(오일러 넘버)인 지수함수</span></span><br><span class="line">np.exp(na)</span><br></pre></td></tr></table></figure>
<pre><code>array([  2.71828183,   7.3890561 ,  20.08553692,  54.59815003,
       148.4131591 ])
</code></pre><h4 id="2-로그함수-log-function-scale-down"><a href="#2-로그함수-log-function-scale-down" class="headerlink" title="(2) 로그함수(log function) - scale down"></a>(2) 로그함수(log function) - scale down</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 밑이 e(오일러 넘버)인 로그함수</span></span><br><span class="line">np.log(na)</span><br></pre></td></tr></table></figure>
<pre><code>array([0.        , 0.69314718, 1.09861229, 1.38629436, 1.60943791])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 밑이 다른 로그함수는 다른 함수를 사용</span></span><br><span class="line">np.log10(<span class="number">10</span>), np.log2(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<pre><code>(1.0, 1.0)
</code></pre><h2 id="4-Performance-비교"><a href="#4-Performance-비교" class="headerlink" title="4. Performance 비교"></a><strong>4. Performance 비교</strong></h2><p>list에 비해 numpy array의 연산 속도가 정말 더 빠른지, 10**7 까지의 리스트에서 3과 5의 배수의 개수를 찾는 연산에 걸리는 시간을 비교해보자</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ls = []</span><br><span class="line">size = int(<span class="number">1E7</span>) <span class="comment"># (10의 7제곱)</span></span><br><span class="line">ls = [num <span class="keyword">for</span> num <span class="keyword">in</span> range(size)]</span><br><span class="line">len(ls)</span><br></pre></td></tr></table></figure>
<pre><code>10000000
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">na = np.arange(size)</span><br><span class="line">len(na)</span><br></pre></td></tr></table></figure>
<pre><code>10000000
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">%%time</span><br><span class="line">count = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> idx <span class="keyword">in</span> ls:</span><br><span class="line">    <span class="keyword">if</span> (ls[idx] % <span class="number">3</span> ==<span class="number">0</span>) <span class="keyword">or</span> (ls[idx] % <span class="number">5</span> == <span class="number">0</span>):</span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line">count</span><br></pre></td></tr></table></figure>
<pre><code>Wall time: 3.3 s
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">%%time</span><br><span class="line">count = len(na[(na % <span class="number">3</span> ==<span class="number">0</span>) | (na % <span class="number">5</span> ==<span class="number">0</span>)])   <span class="comment"># array를 필터링해서 요소의 개수 구함</span></span><br><span class="line">count</span><br></pre></td></tr></table></figure>
<pre><code>Wall time: 295 ms
</code></pre><p>테스트 결과 list에서 3과 5의 배수 개수를 찾는데는 3.3초, numpy array에서는 295 ms가 걸렸다. 단순 비교했을 때 numpy 연산이 10배 이상 빨랐던 것!</p>
<h4 id="참고자료"><a href="#참고자료" class="headerlink" title="참고자료"></a>참고자료</h4><ul>
<li>NumPy v1.16 Manual <a href="https://docs.scipy.org/doc/numpy/index.html" target="_blank" rel="noopener">(https://docs.scipy.org/doc/numpy/index.html)</a></li>
<li>패스트캠퍼스, ⟪데이터사이언스스쿨 8기⟫ 수업자료</li>
</ul>

    
    </div>
    
    <div class="columns is-variable is-1 is-multiline is-mobile">
    
        <span class="column is-narrow"><a class="tag is-light article-tag" href="/tags/python/">#python</a></span>
    
        <span class="column is-narrow"><a class="tag is-light article-tag" href="/tags/파이썬/">#파이썬</a></span>
    
        <span class="column is-narrow"><a class="tag is-light article-tag" href="/tags/programming/">#programming</a></span>
    
        <span class="column is-narrow"><a class="tag is-light article-tag" href="/tags/numpy/">#numpy</a></span>
    
    </div>
    
    
    <div class="columns is-mobile is-multiline article-nav">
        <span class="column is-12-mobile is-half-desktop  article-nav-prev">
            
            <a href="/2019/03/30/python_15_pandas_basic_1/">python 15. Pandas - basic(1)</a>
            
        </span>
        <span class="column is-12-mobile is-half-desktop  article-nav-next">
            
            <a href="/2019/03/24/2019-03-24-TIL/">2019-03-24-TIL</a>
            
        </span>
    </div>
    
</article>


<div class="sharebox">
    
<div class="sharethis-inline-share-buttons"></div>
<script type='text/javascript' src='//platform-api.sharethis.com/js/sharethis.js#property=5c334172a47fe500116a8ea8&amp;product=inline-share-buttons' async='async'></script>

</div>



<div class="comments">
    <h3 class="title is-4">Comments</h3>
    
<script>
    var disqus_config = function () {
        this.page.url = 'https://hyeshinoh.github.io/2019/03/26/python_14_NumPy_calculate/';
        this.page.identifier = '2019/03/26/python_14_NumPy_calculate/';
        
        this.language = 'en';
        
    };
    (function() {
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'hyeshinoh' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>

<div id="disqus_thread">
    
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</div>

    </div>
</section>
    <footer class="footer">
    <div class="container">
        <div class="columns content">
            <div class="column is-narrow has-text-centered">
                &copy; 2019 우와팬더&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a
                        href="http://github.com/ppoffice/hexo-theme-minos">Minos</a>
            </div>
            <div class="column is-hidden-mobile"></div>

            
            <div class="column is-narrow">
                <div class="columns is-mobile is-multiline is-centered">
                
                    
                <a class="column is-narrow has-text-black" title="GitHub" href="https://github.com/hyeshinoh">
                    
                    GitHub
                    
                </a>
                
                </div>
            </div>
            
            
        </div>
    </div>
</footer>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script>

<!-- test if the browser is outdated -->
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script>
<script>
    $(document).ready(function () {
        // plugin function, place inside DOM ready function
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        })
    });
</script>

<script>
    window.FontAwesomeConfig = {
        searchPseudoElements: true
    }
    moment.locale("en-AU");
</script>


    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script>
    MathJax.Hub.Config({
        "HTML-CSS": {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
</script>

    
    
    
    
<script src="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/js/lightgallery-all.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/js/jquery.justifiedGallery.min.js"></script>
<script>
    (function ($) {
        $(document).ready(function () {
            if (typeof($.fn.lightGallery) === 'function') {
                $('.article.gallery').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof($.fn.justifiedGallery) === 'function') {
                $('.justified-gallery').justifiedGallery();
            }
        });
    })(jQuery);
</script>

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <style>
        .hljs {
            position: relative;
        }

        .hljs .clipboard-btn {
            float: right;
            color: #9a9a9a;
            background: none;
            border: none;
            cursor: pointer;
        }

        .hljs .clipboard-btn:hover {
          color: #8a8a8a;
        }

        .hljs > .clipboard-btn {
            display: none;
            position: absolute;
            right: 4px;
            top: 4px;
        }

        .hljs:hover > .clipboard-btn {
            display: inline;
        }

        .hljs > figcaption > .clipboard-btn {
            margin-right: 4px;
        }
    </style>
    <script>
      $(document).ready(function () {
        $('figure.hljs').each(function(i, figure) {
          var codeId = 'code-' + i;
          var code = figure.querySelector('.code');
          var copyButton = $('<button>Copy <i class="far fa-clipboard"></i></button>');
          code.id = codeId;
          copyButton.addClass('clipboard-btn');
          copyButton.attr('data-clipboard-target-id', codeId);

          var figcaption = figure.querySelector('figcaption');

          if (figcaption) {
            figcaption.append(copyButton[0]);
          } else {
            figure.prepend(copyButton[0]);
          }
        })

        var clipboard = new ClipboardJS('.clipboard-btn', {
          target: function(trigger) {
            return document.getElementById(trigger.getAttribute('data-clipboard-target-id'));
          }
        });
        clipboard.on('success', function(e) {
          e.clearSelection();
        })
      })
    </script>

    
    

    


<script src="/js/script.js"></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-mask"></div>
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js"></script>
    
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<!-- <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML'></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->

</body>
</html>